/**This program has a screen pop up asking for user-input for a filename to read
 * then asks for a word to search for. A hash function  is still needed to
 * finish the code. 
*/
package pkgfinal.project.netbeans;

/**
 *
 * @author jenniferwourms
 */
import java.awt.Desktop;
import java.io.File;
import java.io.FileNotFoundException;
import java.io.IOException;
import javafx.application.Application;
import javafx.event.EventHandler;
import javafx.event.ActionEvent;
import javafx.geometry.Insets;
import javafx.geometry.Pos;
import javafx.scene.Scene;
import javafx.scene.text.Text;
import javafx.scene.layout.GridPane;
import javafx.scene.text.Font;
import javafx.scene.text.FontWeight;
import javafx.stage.Stage;
import javafx.scene.control.Button;
import javafx.scene.control.Label;
import javafx.scene.control.TextField;
import javafx.stage.FileChooser;

public class FinalProjectNetbeans extends Application {

    private Desktop desktop = Desktop.getDesktop();
    @Override
    public void start(Stage startPage) throws Exception {
        startPage.setTitle("Hello there");
        GridPane grid = new GridPane();
        grid.setAlignment(Pos.BASELINE_CENTER);
        grid.setHgap(10);
        grid.setVgap(10);
        grid.setPadding(new Insets(25, 25, 25, 25));
         
        //Creates a title page asking for the word to be searched
        Text pageTitle = new Text("Looking for a word?");
        pageTitle.setFont(Font.font("Lora", FontWeight.NORMAL, 20));
        grid.add(pageTitle, 0, 0, 2, 1);
        
        Button button = new Button("Open a file");
        grid.add(button, 0, 1);
        button.setOnAction(new EventHandler<ActionEvent>() {
            public void handle(ActionEvent e) {
                FileChooser fileChooser = new FileChooser();
                
                File file = fileChooser.showOpenDialog(startPage);
                
                if (file != null) {
                    //desktop.open(file);
                    Format file1 = new Format();
                    //System.out.println(file.getName());
                    file1.read(file.getAbsolutePath());
                }
            }   
        
        });
      
            //New textbox appears asking for specific word to find
            Label searchFor = new Label("What word are you looking for?");
            grid.add(searchFor, 0, 3);
            TextField fileTextField2 = new TextField();
            grid.add(fileTextField2, 1, 3);
            fileTextField2.setOnAction(new EventHandler<ActionEvent>() {
            public void handle(ActionEvent e) {
                  /**HASH user-inputted word, check if index hashed to is null;
                   * if not, return how many words are in that index
                   */
                  Format file2 = new Format();
                  String sWord = fileTextField2.getText();
                  System.out.println(sWord);
                  int key = file2.findKey(sWord.toUpperCase());
                  hash h2 = new hash();
                  //h2.insert(key, sWord.toUpperCase());
                  h2.printtable();
            }
        });
        
        
        
        
        Scene scene = new Scene(grid, 600, 275);
        startPage.setScene(scene);
        startPage.setAlwaysOnTop(true);
        startPage.show();
    
    
    }

    public static void main(String[] args) {
        launch(args);
    }

}
